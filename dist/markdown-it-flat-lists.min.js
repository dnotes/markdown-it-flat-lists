!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).markdownItFlatLists=e()}}(function(){return function(){return function e(t,n,r){function o(i,l){if(!n[i]){if(!t[i]){var p="function"==typeof require&&require;if(!l&&p)return p(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var a=n[i]={exports:{}};t[i][0].call(a.exports,function(e){return o(t[i][1][e]||e)},a,a.exports,e,t,n,r)}return n[i].exports}for(var s="function"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}}()({1:[function(e,t,n){"use strict";t.exports=function(e){function t(){return""}return"ordered_list_open|ordered_list_close|bullet_list_open|bullet_list_close|list_item_open|list_item_close".split("|").forEach(n=>{e.renderer.rules[n]=t}),e.core.ruler.push("flatlist",function(e){for(var t=0,n=0;n<e.tokens.length;n++){var r=e.tokens[n];if("ordered_list_open"===r.type||"bullet_list_open"===r.type?t++:"ordered_list_close"!==r.type&&"bullet_list_close"!==r.type||t--,"list_item_open"===r.type&&"paragraph_open"===e.tokens[n+1].type){var o=e.tokens[n+1];o.attrs||(o.attrs=[]);var s=o.attrs.length;o.attrs.push(["class",""]);var i=o.attrs[s][1].split(" ").filter(e=>e.length);i.push("list-item"),t>1&&i.push("indent-"+t),o.attrs[s][1]=i.join(" "),o.hidden=!1;var l=n+2,p=1;do{"paragraph_open"===e.tokens[l].type&&p++,"paragraph_close"===e.tokens[l].type&&p--,"paragraph_close"===e.tokens[l].type&&0===p&&(e.tokens[l].hidden=!1),l++}while(l<e.tokens.length);var u=e.tokens[n+2],a=new e.Token("text","",0);a.content=r.markup+" ",u.children.unshift(a)}}}),e.block.ruler.after("list","flatlist",function(e,t){if(e.tokens.length&&"list_item_open"===e.tokens[e.tokens.length-1].type){var n=e.tokens[e.tokens.length-1],r=e.src.substr(e.bMarks[t],e.eMarks[t]-e.bMarks[t]),o=r.indexOf(n.markup);n.markup&&-1!==o&&(n.markup=r.substr(0,o+1).replace(/^\s+/,""))}}),e}},{}]},{},[1])(1)});
